<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Freizeitspass</title>
    <link rel="stylesheet" href="../main.css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!--Leaflet Map-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!--Leaflet Fullscreen-->
    <script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css' rel='stylesheet' />

    <!-- Leaflet MiniMap -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-minimap/3.6.1/Control.MiniMap.min.js" integrity="sha512-WL3nAJlWFKoDShduxQRyY3wkBnQsINXdIfWIW48ZaPgYz1wYNnxIwFMMgigzSgjNBC2WWZ8Y8/sSyUU6abuF0g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-minimap/3.6.1/Control.MiniMap.css" integrity="sha512-efbAfGnrnjA+hLwOLu91W034fBGPsMwZMVCTwLUI2PDX/m7rOiuhYZ+D2mZ8rKcpC/I/7pdgoL8T4eYvMHNoQg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!--Rainviewer Plugin-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/mwasil/Leaflet.Rainviewer/leaflet.rainviewer.css" />
    <script src="https://cdn.jsdelivr.net/gh/mwasil/Leaflet.Rainviewer/leaflet.rainviewer.js"></script>

    <!--Locate Plugin-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-locatecontrol/0.81.1/L.Control.Locate.min.js" integrity="sha512-s/EGgrVhzEldZLssatR0N5oT6POS4r2ZwYa+sCXYrx8YMlKn9TQCIGTJS4c4O7w/u+bw32sNEyo+EPa+KDrw3Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-locatecontrol/0.81.1/L.Control.Locate.css" integrity="sha512-6+fQwheLeCW6sKV5liSHZ0rxcrN4TRBwWOhsof+3Iahu9J+WRyF4eBLjL5QshWxja6WiKE1WAtrH0hsRJ3nA8A==" crossorigin="anonymous" referrerpolicy="no-referrer" />


    <!-- leaflet-elevation -->
    <link rel="stylesheet" href="https://unpkg.com/@raruto/leaflet-elevation/dist/leaflet-elevation.css" />
    <script src="https://unpkg.com/@raruto/leaflet-elevation/dist/leaflet-elevation.js"></script>

    <script defer src="main.js"></script>
</head>

<body>
    <main>
        <article>
            <header>
                <img src="bilder/header-wandern.jpeg" alt="Sonnenaufgang am Rastkogel (eigene Aufnahme)">

                <nav>
                    FREIZEITSPASS IN INNSBRUCK:
                    <a href="https://freizeitspass.github.io"><i class="fa-solid fa-house"></i>
                        Startseite</a>
                    <a href="https://freizeitspass.github.io/wandern"> <i class="fa-solid fa-person-hiking"></i> Wanderwege</a>
                    <div class="dropdown">
                        <a href="https://freizeitspass.github.io/rad" class="dropdown-toggle"><i class="fa-solid fa-person-biking"></i> Rennradstrecken</a>
                        <div class="dropdown-content">
                            <a href="https://freizeitspass.github.io/rad#ueberblick">Überblick</a>
                            <a href="https://freizeitspass.github.io/rad#ellboegen">Ellbögen
                                Runde</a>
                            <a href="https://freizeitspass.github.io/rad#gnadenwald">Gnadenwald
                                Runde</a>
                            <a href="https://freizeitspass.github.io/rad#lizum">Axamer Lizum</a>
                            <a href="https://freizeitspass.github.io/rad#seefeld">Innsbruck -
                                Seefeld</a>
                            <a href="https://freizeitspass.github.io/rad#sellrain">Sellrain
                                Runde</a>
                        </div>
                    </div>
                    <a href="https://freizeitspass.github.io/ueber" class="dropdown-toggle"> <i class="fa-solid fa-circle-info"></i>
                        Über dieses Projekt</a>
                </nav>
            </header>

            <h1>Die zwei beliebtesten Weitwanderungen um Innsbruck</h1>
            <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh
                euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad
                minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut
                aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in
                vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis
                at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril
                delenit a</p>

            <div class="video-container">
                <iframe width="450" height="300" src="https://www.youtube.com/embed/VH3fwLilNzY" allowfullscreen></iframe>
                <iframe width="450" height="300" src="https://www.youtube.com/embed/0aKnnbjHxFQ" allowfullscreen></iframe>
            </div>

            <div id="map" style="width: 100%; height: 600px;" align="middle"></div>
            <div id="elevation-div-karwendel"></div>
            <div id="elevation-div-inntal"></div>
            <script>
                let map = L.map('map').setView([47.268333, 11.393333], 9);
                L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    maxZoom: 19,
                    attribution: '© OpenStreetMap'
                }).addTo(map);

                L.control.fullscreen().addTo(map);

                // Minimap
                let miniMap = new L.Control.MiniMap(L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'), {
                    toggleDisplay: true,
                    minimized: false
                }).addTo(map);

                // Layers
                let karwendelLayer = L.layerGroup().addTo(map);
                let inntallLayer = L.layerGroup().addTo(map);

                // GPX loading function
                function loadGPXFile(filePath, layer, elevationControl) {
                    fetch(filePath)
                        .then(response => response.text())
                        .then(data => {
                            let parser = new DOMParser();
                            let gpx = parser.parseFromString(data, "application/xml");
                            new L.GPX(gpx, {
                                async: true,
                                marker_options: {
                                    startIconUrl: 'images/pin-icon-start.png',
                                    endIconUrl: 'images/pin-icon-end.png',
                                    shadowUrl: 'images/pin-shadow.png'
                                }
                            }).on('loaded', function (e) {
                                map.fitBounds(e.target.getBounds());
                                elevationControl.load(filePath);
                            }).addTo(layer);
                        });
                }

                let controlElevationKarwendel = L.control.elevation({
                    position: "bottomright",
                    theme: "steelblue-theme",
                    collapsed: true
                }).addTo(map);

                loadGPXFile('data/gps-daten-karwendel-hoehenweg.gpx', karwendelLayer, controlElevationKarwendel);

                let controlElevationInntal = L.control.elevation({
                    position: "bottomleft",
                    theme: "steelblue-theme",
                    collapsed: true
                }).addTo(map);

                loadGPXFile('data/gps-daten-inntaler-hoehenweg.gpx', inntallLayer, controlElevationInntal);

                // RainViewer setup
                let rainviewer = new L.Control.Rainviewer({
                    position: 'bottomleft',
                    nextButtonText: '>',
                    playStopButtonText: 'Start/Stop',
                    prevButtonText: '<',
                    positionSliderLabelText: "Time:",
                    opacitySliderLabelText: "Opacity:",
                    animationInterval: 500,
                    opacity: 0.5
                });
                map.addControl(rainviewer);

                // Locate Control
                L.control.locate().addTo(map);
            </script>
        </article>
    </main>
    <footer>
        <button id="scrollToTopBtn" title="Nach oben scrollen"><i class="fa-solid fa-arrow-up"></i></button>
    </footer>
</body>

</html>